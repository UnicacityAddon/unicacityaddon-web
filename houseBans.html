<!doctype html>
<html lang="de">
<head>
    <title>House Bans | UCA</title>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=chrome">
    <link rel="shortcut icon" href="common/img/UCLogo_new.png" type="image/x-icon">
    <link rel="stylesheet" href="common/css/master.css">
    <link rel="stylesheet" href="common/css/font.css">
    <script src="common/js/master.js" async></script>
</head>
<body>

<nav id="nav"></nav>

<video autoplay muted loop id="backgroundVideo">
    <source src="common/img/UnicacityAddonWebsiteBackground.mp4" type="video/mp4">
</video>

<div class="housebans">
    <p class="text-50-700">House Bans</p>
    <div id="content"></div>
</div>

<div id="footer"></div>

</body>
</html>

<script>
    async function fetchAndDisplayContent() {
        try {
            // const response = await fetch('http://rettichlp.de:8888/unicacityaddon/v1/dhgpsklnag2354668ec1d905xcv34d9bdee4b877/houseban?advanced=false');
            const json = JSON.parse('[{"duration":8640000000,"houseBanReasonList":[{"days":10,"reason":"Schießerei-auf-dem-Gelände-des-Krankenhauses"},{"days":90,"reason":"Erpressen-von-Rezepten"}],"expirationTime":1695661632273,"name":"TrunkMonkeyRoaD","startTime":1687021632273,"uuid":"584eb780b9c84aaa9ee090b0a562913d"},{"duration":8640000000,"houseBanReasonList":[{"days":100,"reason":"Amtsanmaßung"}],"expirationTime":1700165386295,"name":"Denis229","startTime":1691525386295,"uuid":"70ffc909a3964087bde52f82bb3262cd"},{"duration":7776000000,"houseBanReasonList":[{"days":90,"reason":"Erpressen-von-Rezepten"}],"expirationTime":1700172790148,"name":"92Ingwer","startTime":1692396790148,"uuid":"051fd4f2f3464a5f9c8e3f05835cd3ea"},{"duration":3283200000,"houseBanReasonList":[{"days":10,"reason":"Schießerei-auf-dem-Gelände-des-Krankenhauses"},{"days":14,"reason":"Leichenbewachung-auf-dem-Gelände-des-Krankenhauses"},{"days":14,"reason":"Mord-auf-dem-Gelände-des-Krankenhauses"}],"expirationTime":1696798267275,"name":"ErkanWiggsen","startTime":1693515067275,"uuid":"38e6f864d6b0480bbcd53260cce00ae7"},{"duration":3283200000,"houseBanReasonList":[{"days":10,"reason":"Schießerei-auf-dem-Gelände-des-Krankenhauses"},{"days":14,"reason":"Mord-auf-dem-Gelände-des-Krankenhauses"},{"days":14,"reason":"Leichenbewachung-auf-dem-Gelände-des-Krankenhauses"}],"expirationTime":1696798274992,"name":"romincheen","startTime":1693515074992,"uuid":"8d179ec73f3043939c77b365168f8419"},{"duration":1728000000,"houseBanReasonList":[{"days":10,"reason":"Schießerei-auf-dem-Gelände-des-Krankenhauses"},{"days":10,"reason":"Schießerei-auf-dem-Gelände-des-Krankenhauses"}],"expirationTime":1696073713948,"name":"bulderr","startTime":1694345713948,"uuid":"3a3848209a0d4d61881c89f558eb1e4a"},{"duration":2937600000,"houseBanReasonList":[{"days":10,"reason":"Schießerei-auf-dem-Gelände-des-Krankenhauses"},{"days":10,"reason":"Schießerei-auf-dem-Gelände-des-Krankenhauses"},{"days":14,"reason":"Packen-auf-dem-Gelände-des-Krankenhauses"}],"expirationTime":1697557154573,"name":"shiyarr","startTime":1694619554573,"uuid":"9a94197da1de4b15acf926d9c99d33a5"},{"duration":1728000000,"houseBanReasonList":[{"days":10,"reason":"Schießerei-auf-dem-Gelände-des-Krankenhauses"},{"days":10,"reason":"Schießerei-auf-dem-Gelände-des-Krankenhauses"}],"expirationTime":1696347578525,"name":"IchEsseEngel","startTime":1694619578525,"uuid":"a998d56efd12419f9288eb45f5f8938f"},{"duration":2073600000,"houseBanReasonList":[{"days":10,"reason":"Schießerei-auf-dem-Gelände-des-Krankenhauses"},{"days":14,"reason":"Leichenbewachung-auf-dem-Gelände-des-Krankenhauses"}],"expirationTime":1696773672324,"name":"Gelegenheitsdieb","startTime":1694700072324,"uuid":"9a3c7e9fa494405d93636628d00181fb"},{"duration":864000000,"houseBanReasonList":[{"days":10,"reason":"Schießerei-auf-dem-Gelände-des-Krankenhauses"}],"expirationTime":1695754233431,"name":"Laso376","startTime":1694890233431,"uuid":"e865494f194849fa85d13ef6c6eba0f8"},{"duration":864000000,"houseBanReasonList":[{"days":10,"reason":"Schießerei-auf-dem-Gelände-des-Krankenhauses"}],"expirationTime":1695824125043,"name":"plvto16","startTime":1694960125043,"uuid":"fa5a960de1304640a7084bf542bbadb6"},{"duration":1209600000,"houseBanReasonList":[{"days":14,"reason":"Packen-auf-dem-Gelände-des-Krankenhauses"}],"expirationTime":1696272497622,"name":"AlexMitKnax","startTime":1695062897622,"uuid":"78a12d601040452f896b461ad9428518"},{"duration":864000000,"houseBanReasonList":[{"days":10,"reason":"Ausführung-von-Gewalt"}],"expirationTime":1696006972169,"name":"Paauley","startTime":1695142972169,"uuid":"0fea21a837cb4ddc832baeeb800be025"},{"duration":864000000,"houseBanReasonList":[{"days":10,"reason":"Schießerei-auf-dem-Gelände-des-Krankenhauses"}],"expirationTime":1696017056637,"name":"Marlooonn","startTime":1695153056637,"uuid":"63a0532b8ec142b9913d91d79450de3f"},{"duration":864000000,"houseBanReasonList":[{"days":10,"reason":"Schießerei-auf-dem-Gelände-des-Krankenhauses"}],"expirationTime":1696017075325,"name":"aarrxn","startTime":1695153075325,"uuid":"38a46a8df83b45378dd2cd6d6d06002d"},{"duration":1209600000,"houseBanReasonList":[{"days":14,"reason":"Leichenbewachung-auf-dem-Gelände-des-Krankenhauses"}],"expirationTime":1696362700232,"name":"Schbastyyy787","startTime":1695153100232,"uuid":"25358705adaf44b483ac5ed985937c75"},{"duration":1209600000,"houseBanReasonList":[{"days":14,"reason":"Packen-auf-dem-Gelände-des-Krankenhauses"}],"expirationTime":1696609452740,"name":"nawiid","startTime":1695399852740,"uuid":"f9cc690cefef44ba9873c42bc9a66a78"}]');// await response.json();

            let count = 0;

            const contentElement = document.getElementById("content");

            json.forEach(entry => {
                const name = entry.name;
                const startTime = entry.startTime;
                const expirationTime = entry.expirationTime;
                const color = count++ % 2 === 1 ? "rgba(0, 0, 0, 0.5)" : "";

                let reasons = "<ul>";
                entry.houseBanReasonList.forEach(subEntry => reasons += "<li>" + subEntry.reason.replace("-", " ") + "</li>");
                reasons += "</ul>";

                const housebanFlexBar = document.createElement('div');
                housebanFlexBar.className = 'housebans-flexBar';
                housebanFlexBar.style.backgroundColor = color;
                housebanFlexBar.style.padding = '0 10px';

                const nameElement = document.createElement('div');
                nameElement.classList.add('text-20-300');
                nameElement.classList.add('housebans-flexBar-name');
                nameElement.textContent = name;

                const reasonElement = document.createElement('div');
                reasonElement.classList.add('text-20-300');
                reasonElement.classList.add('housebans-flexBar-reason');
                reasonElement.innerHTML = reasons;

                const dateElement = document.createElement('div');
                dateElement.classList.add('text-20-300');
                dateElement.classList.add('housebans-flexBar-date');
                dateElement.textContent = new Date(startTime).toLocaleDateString() + " - " + new Date(expirationTime).toLocaleDateString();

                housebanFlexBar.appendChild(nameElement);
                housebanFlexBar.appendChild(reasonElement);
                housebanFlexBar.appendChild(dateElement);

                contentElement.appendChild(housebanFlexBar);
            });
        } catch (error) {
            console.error('Cannot fetch data:', error);
        }
    }
</script>